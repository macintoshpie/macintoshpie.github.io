<!DOCTYPE html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ted Summer</title>
    <link rel="icon" href="/images/strawberry.svg" type="image/svg+xml" />
    <style>
        :root {
            --accent-color: #8ED081;
            --border-radius: 16px;
            --border-width: 2px;
            --radius: 2px;
        }

        body {
            margin: 0;
            background-color: #fae7ff;
            background-image: radial-gradient(#000000 1.5px, transparent 0);
            background-size: 32px 32px;
            background-position: 0px 0px;
            background-attachment: fixed;

            width: 100vw;
            height: 100vh;

            cursor: nwse-resize;
        }

        a {
            color: #0000ff;
        }

        details {
            display: inline;
            vertical-align: top;

            font:
                16px "FreeMono",
                monospace;
            margin: 8px;

            background: rgba(255, 255, 255, 0.557);
            border-radius: var(--border-radius);
            box-shadow: -5px 5px 5px rgba(0, 0, 0, 0.1);

            max-width: 600px;

            transition: transform 0.3s ease,
                box-shadow 0.3s ease;
        }

        details:hover {
            transform: translateY(-3px);
            box-shadow: -7px 7px 7px rgba(0, 0, 0, 0.1) !important;
        }

        details[open] {
            box-shadow: -6px 6px 6px rgba(0, 0, 0, 0.1);
        }

        details:not([open]):hover {
            animation: moveCounterClockwise 2.5s linear infinite;
        }

        details>summary {
            border: var(--border-width) solid rgba(255, 255, 255, 0);
            border-radius: var(--border-radius);
            padding: 8px;
        }

        details:not([open])>summary:hover {
            border: var(--border-width) solid rgb(0, 0, 0);
        }

        details[open]>summary {
            border: none;

            cursor: nw-resize;
            background-color: var(--accent-color);
            position: sticky;
            top: 8px;
        }

        details:not([open])>summary {
            cursor: se-resize;
        }

        details:not([open])>summary:focus-within {
            border: var(--border-width) solid var(--accent-color);
        }

        img {
            display: block;
            margin: auto;
            max-width: 400px;
            border-radius: var(--border-radius);
        }

        iframe {
            display: block;
            margin: auto;
            max-width: 400px;
        }


        #sillyCss {
            animation: ohno 1s linear infinite;
        }

        @keyframes moveCounterClockwise {
            0% {
                transform: translate(calc(var(--radius) * 1), calc(var(--radius) * 0));
            }

            12.5% {
                transform: translate(calc(var(--radius) * 0.707), calc(var(--radius) * -0.707));
            }

            25% {
                transform: translate(calc(var(--radius) * 0), calc(var(--radius) * -1));
            }

            37.5% {
                transform: translate(calc(var(--radius) * -0.707), calc(var(--radius) * -0.707));
            }

            50% {
                transform: translate(calc(var(--radius) * -1), calc(var(--radius) * 0));
            }

            62.5% {
                transform: translate(calc(var(--radius) * -0.707), calc(var(--radius) * 0.707));
            }

            75% {
                transform: translate(calc(var(--radius) * 0), calc(var(--radius) * 1));
            }

            87.5% {
                transform: translate(calc(var(--radius) * 0.707), calc(var(--radius) * 0.707));
            }

            100% {
                transform: translate(calc(var(--radius) * 1), calc(var(--radius) * 0));
            }
        }

        @keyframes ohno {
            0% {
                cursor: alias;
            }

            3% {
                cursor: all-scroll;
            }

            6% {
                cursor: auto;
            }

            9% {
                cursor: cell;
            }

            11% {
                cursor: col-resize;
            }

            14% {
                cursor: context-menu;
            }

            17% {
                cursor: copy;
            }

            20% {
                cursor: crosshair;
            }

            23% {
                cursor: default;
            }

            26% {
                cursor: e-resize;
            }

            29% {
                cursor: ew-resize;
            }

            31% {
                cursor: grab;
            }

            34% {
                cursor: grabbing;
            }

            37% {
                cursor: help;
            }

            40% {
                cursor: move;
            }

            43% {
                cursor: n-resize;
            }

            46% {
                cursor: ne-resize;
            }

            49% {
                cursor: nesw-resize;
            }

            51% {
                cursor: ns-resize;
            }

            54% {
                cursor: nw-resize;
            }

            57% {
                cursor: nwse-resize;
            }

            60% {
                cursor: no-drop;
            }

            63% {
                cursor: none;
            }

            66% {
                cursor: not-allowed;
            }

            69% {
                cursor: pointer;
            }

            71% {
                cursor: progress;
            }

            74% {
                cursor: row-resize;
            }

            77% {
                cursor: s-resize;
            }

            80% {
                cursor: se-resize;
            }

            83% {
                cursor: sw-resize;
            }

            86% {
                cursor: text;
            }

            89% {
                cursor: url(myBall.cur), auto;
            }

            91% {
                cursor: w-resize;
            }

            94% {
                cursor: wait;
            }

            97% {
                cursor: zoom-in;
            }

            100% {
                cursor: zoom-out;
            }
        }

        .code-line {
            white-space-collapse: collapse;
        }

        .whitespace {
            white-space: pre;
        }

        .boolean {
            color: #F71735;
        }

        .number {
            color: #F71735;
        }

        .operator {
            color: #23967F;
        }

        .string {
            color: #23967F;
        }

        .comment {
            color: gray;
        }

        .word {
            color: #011627;
        }

        footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            text-align: center;
            z-index: -1;
            font: 16px "FreeMono", monospace;
            color: var(--accent-color);
        }
    </style>
</head>

<body>
    <details name="root"><summary>hello = 1.12 + 3 + &#34;1+1.0&#34;
foo = true // and this is a comment 69

func foobar() {
&#x9;print(&#34;hello world&#34;)
}

var mymap := map[string]int{
&#x9;&#34;foo&#34;: 1,
&#x9;&#34;bar&#34;: 2,
}

json test
{
&#x9;&#34;foo&#34;: 1,
&#x9;&#34;bar&#34;: 2,
&#x9;&#34;baz&#34;: true,
&#x9;&#34;qux&#34;: [1, 2, 3],
}</summary><p><div class="code-block"><div class="code-line"><span class="word">hello</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="number">1.12</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="number">3</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="string">&#34;1+1.0&#34;</span></div><div class="code-line"><span class="word">foo</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="boolean">true</span><span class="whitespace"> </span><span class="comment">// and this is a comment 69</span></div><div class="code-line"></div><div class="code-line"><span class="word">func</span><span class="whitespace"> </span><span class="word">foobar</span><span class="operator">(</span><span class="operator">)</span><span class="whitespace"> </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">&#x9;</span><span class="word">print</span><span class="operator">(</span><span class="string">&#34;hello world&#34;</span><span class="operator">)</span></div><div class="code-line"><span class="operator">}</span></div><div class="code-line"></div><div class="code-line"><span class="word">var</span><span class="whitespace"> </span><span class="word">mymap</span><span class="whitespace"> </span><span class="operator">:</span><span class="operator">=</span><span class="whitespace"> </span><span class="word">map</span><span class="operator">[</span><span class="word">string</span><span class="operator">]</span><span class="word">int</span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">&#x9;</span><span class="string">&#34;foo&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">1</span></div><div class="code-line"><span class="whitespace">&#x9;</span><span class="string">&#34;bar&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">2</span></div><div class="code-line"><span class="operator">}</span></div><div class="code-line"></div><div class="code-line"><span class="word">json</span><span class="whitespace"> </span><span class="word">test</span></div><div class="code-line"><span class="operator">{</span></div><div class="code-line"><span class="whitespace">&#x9;</span><span class="string">&#34;foo&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">1</span></div><div class="code-line"><span class="whitespace">&#x9;</span><span class="string">&#34;bar&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">2</span></div><div class="code-line"><span class="whitespace">&#x9;</span><span class="string">&#34;baz&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="boolean">true</span></div><div class="code-line"><span class="whitespace">&#x9;</span><span class="string">&#34;qux&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="operator">[</span><span class="number">1</span><span class="word">,</span><span class="whitespace"> </span><span class="number">2</span><span class="word">,</span><span class="whitespace"> </span><span class="number">3</span><span class="operator">]</span></div><div class="code-line"><span class="operator">}</span></div></div></p></details><details name="root"><summary>Ted Summer</summary><p><details name="8d80ca801d4dbf4a5393c1b8a2038a0e3063ce610e2a928d20f71a2ea11d48e0"><summary>/images/me-circle.png</summary><p><img src="/images/me-circle.png" alt="/images/me-circle.png" loading="lazy"></img></p></details><details name="8d80ca801d4dbf4a5393c1b8a2038a0e3063ce610e2a928d20f71a2ea11d48e0"><summary>things I like 🍓</summary><p><details name="3f642182352faaa7827fe1b925a4fc08015a177b4ed40b4f09ffc48ce406b646"><summary>music</summary><p><details name="80f189984e5ca70287d13342f6daa0db45cba3c131c4e46dc81360f3a4c4f690"><summary>https://www.youtube.com/embed/liS_be9MK00</summary><p><iframe src="https://www.youtube.com/embed/liS_be9MK00" loading="lazy" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="true"></iframe></p></details><details name="80f189984e5ca70287d13342f6daa0db45cba3c131c4e46dc81360f3a4c4f690"><summary>I have a microkorg and make music in Ableton. Amateur pianist.</summary><p><details name="c20da33f91064634c64a6a2fba6b8d709410c0701818278f5dcf10f0e47b2ada"><summary>/images/cruella.png</summary><p><img src="/images/cruella.png" alt="/images/cruella.png" loading="lazy"></img></p></details></p></details><details name="80f189984e5ca70287d13342f6daa0db45cba3c131c4e46dc81360f3a4c4f690"><summary>https://www.youtube.com/embed/4An4oR035j8</summary><p><iframe src="https://www.youtube.com/embed/4An4oR035j8" loading="lazy" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="true"></iframe></p></details></p></details><details name="3f642182352faaa7827fe1b925a4fc08015a177b4ed40b4f09ffc48ce406b646"><summary>climbing</summary><p></p></details><details name="3f642182352faaa7827fe1b925a4fc08015a177b4ed40b4f09ffc48ce406b646"><summary>biking</summary><p><details name="628e6a76cce9d544a5d4c9e93beb067c0864fab1daa4dacf2eeff9bab723a0b5"><summary>I&#39;m into 90s mountain bikes right now. I have a &#39;93 raleigh m-40 currently</summary><p></p></details><details name="628e6a76cce9d544a5d4c9e93beb067c0864fab1daa4dacf2eeff9bab723a0b5"><summary>/images/my-raleigh.png</summary><p><img src="/images/my-raleigh.png" alt="/images/my-raleigh.png" loading="lazy"></img></p></details></p></details><details name="3f642182352faaa7827fe1b925a4fc08015a177b4ed40b4f09ffc48ce406b646"><summary>hyperlinks</summary><p><details name="e6fd18c45c07750c6711d7f3d215b78a3470f0189a0b553f246077a6f960b2cd"><summary>https://100r.co/</summary><p><a href="https://100r.co/">https://100r.co/</a></p></details><details name="e6fd18c45c07750c6711d7f3d215b78a3470f0189a0b553f246077a6f960b2cd"><summary>http://www.musanim.com/all/</summary><p><a href="http://www.musanim.com/all/">http://www.musanim.com/all/</a></p></details><details name="e6fd18c45c07750c6711d7f3d215b78a3470f0189a0b553f246077a6f960b2cd"><summary>https://mollysoda.exposed/</summary><p><a href="https://mollysoda.exposed/">https://mollysoda.exposed/</a></p></details><details name="e6fd18c45c07750c6711d7f3d215b78a3470f0189a0b553f246077a6f960b2cd"><summary>http://www.beerxml.com/</summary><p><a href="http://www.beerxml.com/">http://www.beerxml.com/</a></p></details></p></details><details name="3f642182352faaa7827fe1b925a4fc08015a177b4ed40b4f09ffc48ce406b646"><summary id="sillyCss">css</summary><p><details name="36e64f19f57a05c8cd5b6bf7eff72703b4bbab19def7832eb4e686e7fa482eef"><summary>just kidding i have no idea how to use it properly</summary><p></p></details></p></details></p></details></p></details><details name="root"><summary>sometimes I make things</summary><p><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>this website (lists version)</summary><p><details name="a85077214c7f23759dcf300cee7c7d5904ffc8a4269831fa82515266117a0c95"><summary>This website is written as a single file as a big list</summary><p><details name="7d7bdf6626f086255c1e25085746ece779c0b5aa0e2c8f39b1e4395e048e7149"><summary>roughly follows syntax follows gemini gemfile format. will probably move further away from it as I go because its mine</summary><p></p></details></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>tombola: generative music</summary><p><details name="62dcbc88fc9cbf684787360b20622e3eed1f72867976062668a6a8eb31102716"><summary>Inspired by Teenage Engineering OP-1&#39;s tombola sequencer.</summary><p></p></details><details name="62dcbc88fc9cbf684787360b20622e3eed1f72867976062668a6a8eb31102716"><summary>https://tombola.tedsummer.com/</summary><p><a href="https://tombola.tedsummer.com/">https://tombola.tedsummer.com/</a></p></details><details name="62dcbc88fc9cbf684787360b20622e3eed1f72867976062668a6a8eb31102716"><summary>/images/tombola.png</summary><p><img src="/images/tombola.png" alt="/images/tombola.png" loading="lazy"></img></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>liztz: notes as lists</summary><p><details name="b3ead7219e23462394481bea8dd7ff177bad3190be0e2c1541d171cd8cc1147c"><summary>A lightweight note taking application centered around lists.</summary><p></p></details><details name="b3ead7219e23462394481bea8dd7ff177bad3190be0e2c1541d171cd8cc1147c"><summary>/images/liztz.png</summary><p><img src="/images/liztz.png" alt="/images/liztz.png" loading="lazy"></img></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>tasks: timeline estimation</summary><p><details name="e3f5a36b42ff33becd2221b4bb16373891ac9dc69d1bf16e6d46e36699c68645"><summary>A timeline estimator for multiple tasks. Uses Monte Carlo simulations to estimate when a collection of tasks will be complete. Mostly an exercise in creating fluid UI/UX.</summary><p></p></details><details name="e3f5a36b42ff33becd2221b4bb16373891ac9dc69d1bf16e6d46e36699c68645"><summary>/images/tasks.png</summary><p><img src="/images/tasks.png" alt="/images/tasks.png" loading="lazy"></img></p></details><details name="e3f5a36b42ff33becd2221b4bb16373891ac9dc69d1bf16e6d46e36699c68645"><summary>https://en.wikipedia.org/wiki/Monte_Carlo_method#An_example</summary><p><a href="https://en.wikipedia.org/wiki/Monte_Carlo_method#An_example">https://en.wikipedia.org/wiki/Monte_Carlo_method#An_example</a></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>https://actionsbyexample.com</summary><p><a href="https://actionsbyexample.com">https://actionsbyexample.com</a><details name="6a9cd2875ac863dcc6ba01fbaa7f543047a1838d77c41d8f4131b7e70f87aee8"><summary>GitHub Actions by Example is an introduction to GitHub’s Actions and Workflows through annotated example YAML files. I wrote a custom HTML generator in Golang to generate the documentation from YAML files.</summary><p></p></details><details name="6a9cd2875ac863dcc6ba01fbaa7f543047a1838d77c41d8f4131b7e70f87aee8"><summary>/images/actionsbyexample.png</summary><p><img src="/images/actionsbyexample.png" alt="/images/actionsbyexample.png" loading="lazy"></img></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>mixtapexyz</summary><p><details name="bbf02b386d6549cf46ae610b19699cf3b694a9ebbe82e5f09e166fad95cbbc47"><summary>A game where players build themed music playlists with friends. Had some fun writing a custom router in Golang.</summary><p></p></details><details name="bbf02b386d6549cf46ae610b19699cf3b694a9ebbe82e5f09e166fad95cbbc47"><summary>https://www.mxtp.xyz/</summary><p><a href="https://www.mxtp.xyz/">https://www.mxtp.xyz/</a></p></details><details name="bbf02b386d6549cf46ae610b19699cf3b694a9ebbe82e5f09e166fad95cbbc47"><summary>/images/mxtp.png</summary><p><img src="/images/mxtp.png" alt="/images/mxtp.png" loading="lazy"></img></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>convoh</summary><p><details name="c7fb1f40617eff7d5ae2f31b5538707b717365dcbdf9990b20ef1d93481aaa44"><summary>chat with yourself</summary><p></p></details><details name="c7fb1f40617eff7d5ae2f31b5538707b717365dcbdf9990b20ef1d93481aaa44"><summary>https://convoh.netlify.app</summary><p><a href="https://convoh.netlify.app">https://convoh.netlify.app</a></p></details><details name="c7fb1f40617eff7d5ae2f31b5538707b717365dcbdf9990b20ef1d93481aaa44"><summary>/images/convoh.png</summary><p><img src="/images/convoh.png" alt="/images/convoh.png" loading="lazy"></img></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>freedb.me</summary><p><details name="02a7db39c7918c4da0f9ca63ffb7fb0f8068e800e4dd65689bc6396b4c23580b"><summary>free sqlite databases. queried through HTTP API. hand made with go</summary><p></p></details><details name="02a7db39c7918c4da0f9ca63ffb7fb0f8068e800e4dd65689bc6396b4c23580b"><summary>https://freedb.me</summary><p></p></details><details name="02a7db39c7918c4da0f9ca63ffb7fb0f8068e800e4dd65689bc6396b4c23580b"><summary>/images/freedb.png</summary><p><img src="/images/freedb.png" alt="/images/freedb.png" loading="lazy"></img></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>jot</summary><p><details name="7a216ee206cd68f244ed8522826d9ef6e226b4379e0ecde53157f37da06ada4f"><summary>Post-it notes and scheduled reminders app.</summary><p></p></details><details name="7a216ee206cd68f244ed8522826d9ef6e226b4379e0ecde53157f37da06ada4f"><summary>https://jot.tedsummer.com</summary><p></p></details><details name="7a216ee206cd68f244ed8522826d9ef6e226b4379e0ecde53157f37da06ada4f"><summary>/images/jot.png</summary><p><img src="/images/jot.png" alt="/images/jot.png" loading="lazy"></img></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>paropt: tool optimization automation</summary><p><details name="82e9248d79de71c436a73c2c66f883734776281694e7b2ea39210d8e028524e5"><summary>https://github.com/macintoshpie/paropt</summary><p><a href="https://github.com/macintoshpie/paropt">https://github.com/macintoshpie/paropt</a></p></details><details name="82e9248d79de71c436a73c2c66f883734776281694e7b2ea39210d8e028524e5"><summary>/images/paropt.png</summary><p><img src="/images/paropt.png" alt="/images/paropt.png" loading="lazy"></img></p></details><details name="82e9248d79de71c436a73c2c66f883734776281694e7b2ea39210d8e028524e5"><summary>https://ieeexplore.ieee.org/abstract/document/8968866</summary><p><a href="https://ieeexplore.ieee.org/abstract/document/8968866">https://ieeexplore.ieee.org/abstract/document/8968866</a></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>pixel synth</summary><p><details name="a7f29af6f1e0c904dfa0e226c98d40d43f6105ccca84a79ff47d110bbefbc7a4"><summary>Pixel-based video synthesizer in HTML/JS</summary><p></p></details><details name="a7f29af6f1e0c904dfa0e226c98d40d43f6105ccca84a79ff47d110bbefbc7a4"><summary>/images/pixsynth.png</summary><p><img src="/images/pixsynth.png" alt="/images/pixsynth.png" loading="lazy"></img></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>maze solving twitter bot</summary><p><details name="6d82748027e4e136fad7ae477ac89062899b40aef79253b35bf7914985e90b85"><summary>Twitter bot which solves another Twitter bot’s ASCII mazes. Looks like it&#39;s banned now. thanks elon ®</summary><p></p></details><details name="6d82748027e4e136fad7ae477ac89062899b40aef79253b35bf7914985e90b85"><summary>/images/minimazesolver.png</summary><p><img src="/images/minimazesolver.png" alt="/images/minimazesolver.png" loading="lazy"></img></p></details></p></details><details name="cb499ab78af5dcbedbce4dba799ef5eff29d31175a9c374556d871325182201b"><summary>pentaku js</summary><p><details name="eae88c6c60b86832e8f0c46fcdfeb4371857f3f4c87b883a11bf4ed7ec489fb4"><summary>Play against a friend or naive bots in pentago, gomoku, and other grid based games.</summary><p></p></details><details name="eae88c6c60b86832e8f0c46fcdfeb4371857f3f4c87b883a11bf4ed7ec489fb4"><summary>/images/pentaku.png</summary><p><img src="/images/pentaku.png" alt="/images/pentaku.png" loading="lazy"></img></p></details></p></details></p></details><details name="root"><summary>sometimes I write</summary><p><details name="1abfa4f62bfb0ed3f98d6616e514443c8ace87ea576e6b3bf625e49041cde558"><summary>shorts</summary><p><details name="474a744f02d8b7ff5e1d87e2e841db688a5523c53faf9820a1ab4582c8f92638"><summary>perl should have used the keyword &#34;my&#34; for constants and &#34;our&#34; for variables</summary><p><details name="12fffb6e5802d7e7635db45efed6b33021cbc21131ffa6e963db593721c49496"><summary>my $NAME = &#34;ted&#34;;
our @shared_friends = (&#34;alice&#34;, &#34;bob&#34;, &#34;charlie&#34;);</summary><p><div class="code-block"><div class="code-line"><span class="word">my</span><span class="whitespace"> </span><span class="word">$NAME</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="string">&#34;ted&#34;</span><span class="operator">;</span></div><div class="code-line"><span class="word">our</span><span class="whitespace"> </span><span class="word">@shared_friends</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="operator">(</span><span class="string">&#34;alice&#34;</span><span class="word">,</span><span class="whitespace"> </span><span class="string">&#34;bob&#34;</span><span class="word">,</span><span class="whitespace"> </span><span class="string">&#34;charlie&#34;</span><span class="operator">)</span><span class="operator">;</span></div></div></p></details><details name="12fffb6e5802d7e7635db45efed6b33021cbc21131ffa6e963db593721c49496"><summary>it also should have used camel case</summary><p></p></details></p></details></p></details><details name="1abfa4f62bfb0ed3f98d6616e514443c8ace87ea576e6b3bf625e49041cde558"><summary>linoleum</summary><p><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>I wanted to make some prints on hats for a &#34;running party&#34; we were having. A mouse dubbed [Mr. Jiggy](https://banjokazooie.fandom.com/wiki/Jiggy) lives (lived) with us, so I wanted him as a mascot on each teams hat. So I bought some linoleum, cheap ass tools, and speedball fabric ink off amazon.</summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>I found a chinese site that sells hat blanks, but I would not recommend it because the hats I received did not look like the advertised product. 1 star.</summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>/images/jiggy.JPG</summary><p><img src="/images/jiggy.JPG" alt="/images/jiggy.JPG" loading="lazy"></img></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>mr. jiggy lived in our dishwasher and while playing banjo kazooie after my roommate had a heatstroke we though it was really funny to name him that (her? we don&#39;t know).</summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>I asked Dall-E to generate some photos of linoleum mice as a starting place then handdrew a simplified version onto the linoleum.</summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>This worked out pretty well other than the fact that I probably made it slightly too small (~2x2 inches) and it was really hard to get the hair detail. Not much to say about the cutting. </summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>/images/jiggy-print.png</summary><p><img src="/images/jiggy-print.png" alt="/images/jiggy-print.png" loading="lazy"></img></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>I of course forgot that the print would be &#34;in reverse&#34; (flipped on horizontally) but who cares when it&#39;s a mouse. It would have been a problem if I stuck with the original plan of writing &#34;stay sweaty&#34; in Bosnian underneath but I scrapped that after our Bosnian friend began to explain the fact that Bosnian has gendered nouns and I didn&#39;t like the longer alternatives.</summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>Though I just did some googling/llming and found some cool bosnian bro speak like &#34;živa legenda&#34; (living legend) which would have been dope.</summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>/images/amjo-brate-shirt.png</summary><p><img src="/images/amjo-brate-shirt.png" alt="/images/amjo-brate-shirt.png" loading="lazy"></img></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>chatgpt tells me &#34;ajmo brate&#34; says &#34;lets go bro&#34; and I found this shirt on amazon (supposedly) saying &#34;let&#39;s go bro, sit in the tavern, order, drink, and eat, let the eyes shine from the wine, we don&#39;t live for a thousand years&#34; which is a sentiment I appreciate</summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>I rolled the ink on 4th of july paper plates that were too small. I will be looking for glass panes or something similar for rolling ink at the animal crossing store in future visits.</summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>I learned that I have no idea how much ink to use, and that you should put a solid thing behind whatever you&#39;re printing on (the mesh backing left a pattern in the first print). But it does seem cool to experiment printing with some patterned texture behind the print.</summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>I had been warned that nylon is a terrible fabric to print on but I did it anyways.</summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>It&#39;s still not fully dry after 12 hours but whatever. we&#39;ll see. it&#39;ll probably wash out.</summary><p></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>The first few hats looked ok. In future prints I&#39;d like to try a few things:</summary><p><details name="9cb452fbb286b5edcc98b79e3bea7ba1103c95ba087d06851a889ff484c1db3c"><summary>simpler design</summary><p></p></details><details name="9cb452fbb286b5edcc98b79e3bea7ba1103c95ba087d06851a889ff484c1db3c"><summary>bigger design (~2.5 inches)</summary><p></p></details><details name="9cb452fbb286b5edcc98b79e3bea7ba1103c95ba087d06851a889ff484c1db3c"><summary>trim off more of the excess linoleum when working with awkward printing surfaces</summary><p></p></details></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>/images/jiggy-hats.png</summary><p><img src="/images/jiggy-hats.png" alt="/images/jiggy-hats.png" loading="lazy"></img></p></details><details name="e04031c5d5a68b5f2ddce279173af0a5b7835769f61a934a88c220868dd8a42f"><summary>the white print had way too much ink I think. The black print looks wonky because I printed without a solid surface behind the fabric (the mesh behind the hat came through).</summary><p></p></details></p></details><details name="1abfa4f62bfb0ed3f98d6616e514443c8ace87ea576e6b3bf625e49041cde558"><summary>aws lambda: local server</summary><p><details name="7fda38dcb618fb7c823434d3e06e5ae2ff43749513fcf299b2071d1fea583888"><summary>I&#39;ve been messing around with a project which uses netlify and lambda (it&#39;s free and static sites are hawt). I basically have one main lambda function which handles api requests built in golang. It&#39;s pretty awesome how easy netlify lets you build and deploy, but I wanted to a nice local setup for building and testing my api server. I think aws has its own tooling for this, but I didn&#39;t really want to start fooling with it, so I came up with this.</summary><p></p></details><details name="7fda38dcb618fb7c823434d3e06e5ae2ff43749513fcf299b2071d1fea583888"><summary>First, use a docker container docker-lambda to actually &#34;run&#34; the lambda. This is an awesome container, but you have to use the lambda API for interacting with the service. That&#39;s no good because our frontend shouldn&#39;t care about the lambda API, and it should just use the API gateway netlify uses for the functions.</summary><p><details name="755858356b7b1ed815cbfef1a27e353e95d1f6e84e9244e4e9312b42540c4d6f"><summary>https://github.com/lambci/docker-lambda</summary><p><a href="https://github.com/lambci/docker-lambda">https://github.com/lambci/docker-lambda</a></p></details></p></details><details name="7fda38dcb618fb7c823434d3e06e5ae2ff43749513fcf299b2071d1fea583888"><summary>To fix this, I created a small python proxy takes requests, converts them into API Gateway requests, forwards it to our docker container with the lambda, then converts the API Gateway response into a normal HTTP response. I _really_ struggled to get the python request handler to do all of the things I wanted, but eventually I got it working.</summary><p></p></details><details name="7fda38dcb618fb7c823434d3e06e5ae2ff43749513fcf299b2071d1fea583888"><summary>Here&#39;s the full script I use to run the lambda as an HTTP API locally. Since I&#39;m using golang I use the `go1.x` tag for the container and provide the path to the executable. Also, I ended up wrapping the python starting process in a loop b/c it was taking a while for the port to become available again after killing and restarting the script.</summary><p><details name="5f060354d586487848828159a6e9fc4daa8b90b674d17588d9510fcdb6bd1071"><summary>bash
#! /bin/bash
# Starts a a mock lambda server allowing you to make requests
set -e

# build my go executable
make build

docker rm -f lambda_service 2&gt;&amp;1 &gt;/dev/null || true
docker run -d --rm \
    --name lambda_service \
    -p 9001:9001 \
    -e DOCKER_LAMBDA_STAY_OPEN=1 \
    --env-file .env \
    -v &#34;$PWD&#34;:/var/task:ro,delegated \
    # Change tag and path to executable as needed
    lambci/lambda:go1.x ./bin/functions/jockey

# start a proxy server that handles translating to and from APIGateway request/responses
python3 -c &#39;
from http.server import BaseHTTPRequestHandler
from http.client import parse_headers
import socketserver
from urllib.request import urlopen
from json import dumps, loads
import os
import time

PORT = 8000
LAMBDA_PORT = int(os.getenv(&#34;LAMBDA_PORT&#34;, &#34;9001&#34;))

class Proxy(BaseHTTPRequestHandler):
    # change the function name as needed (my functions name is jockey)
    lambda_endpoint = f&#34;http://localhost:{LAMBDA_PORT}/2015-03-31/functions/jockey/invocations&#34;
    def proxy_it(self):
        content_length = self.headers[&#34;Content-Length&#34;]
        data_string = &#34;&#34;
        if content_length:
            data_string = self.rfile.read(int(content_length)).decode()
        constructed_request = {
            &#34;path&#34;: self.path,
            &#34;httpMethod&#34;: self.command,
            &#34;body&#34;: data_string,
            &#34;headers&#34;: {k: self.headers[k] for k in self.headers.keys()}
        }
        print(&#34;Sending Request: &#34;, constructed_request)
        response = urlopen(self.lambda_endpoint, dumps(constructed_request).encode())

        body = response.read().decode()
        http_response = loads(body)
        print(&#34;\nGot Response: &#34;, http_response)

        headers = http_response.get(&#34;headers&#34;, {})
        body = http_response[&#34;body&#34;] if http_response.get(&#34;body&#34;) else &#34;&#34;
        status_code = http_response.get(&#34;statusCode&#34;, 500)
        self.send_response(status_code)
        for header, value in headers.items():
            self.send_header(header, value)
        self.end_headers()
        self.wfile.write(bytes(body, &#34;utf-8&#34;))

    def do_GET(self):
        self.proxy_it()

    def do_POST(self):
        self.proxy_it()

    def do_OPTIONS(self):
        self.proxy_it()

started = False
while not started:
    try:
        with socketserver.TCPServer((&#34;&#34;, PORT), Proxy) as httpd:
            started = True
            print(f&#34;Proxying from port {PORT} to {LAMBDA_PORT}&#34;)
            httpd.serve_forever()
    except:
        print(&#34;Port still occupied, waiting...&#34;)
        time.sleep(5)
&#39;</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="word">#!</span><span class="whitespace"> </span><span class="operator">/</span><span class="word">bin</span><span class="operator">/</span><span class="word">bash</span></div><div class="code-line"><span class="word">#</span><span class="whitespace"> </span><span class="word">Starts</span><span class="whitespace"> </span><span class="word">a</span><span class="whitespace"> </span><span class="word">a</span><span class="whitespace"> </span><span class="word">mock</span><span class="whitespace"> </span><span class="word">lambda</span><span class="whitespace"> </span><span class="word">server</span><span class="whitespace"> </span><span class="word">allowing</span><span class="whitespace"> </span><span class="word">you</span><span class="whitespace"> </span><span class="word">to</span><span class="whitespace"> </span><span class="word">make</span><span class="whitespace"> </span><span class="word">requests</span></div><div class="code-line"><span class="word">set</span><span class="whitespace"> </span><span class="operator">-</span></div><div class="code-line"></div><div class="code-line"><span class="word">#</span><span class="whitespace"> </span><span class="word">build</span><span class="whitespace"> </span><span class="word">my</span><span class="whitespace"> </span><span class="word">go</span><span class="whitespace"> </span><span class="word">executable</span></div><div class="code-line"><span class="word">make</span><span class="whitespace"> </span><span class="word">build</span></div><div class="code-line"></div><div class="code-line"><span class="word">docker</span><span class="whitespace"> </span><span class="word">rm</span><span class="whitespace"> </span><span class="operator">-</span><span class="word">f</span><span class="whitespace"> </span><span class="word">lambda_service</span><span class="whitespace"> </span><span class="number">2</span><span class="word">&gt;&amp;</span><span class="number">1</span><span class="whitespace"> </span><span class="word">&gt;</span><span class="operator">/</span><span class="word">dev</span><span class="operator">/</span><span class="word">null</span><span class="whitespace"> </span><span class="word">||</span><span class="whitespace"> </span><span class="boolean">true</span></div><div class="code-line"><span class="word">docker</span><span class="whitespace"> </span><span class="word">run</span><span class="whitespace"> </span><span class="operator">-</span><span class="word">d</span><span class="whitespace"> </span><span class="operator">-</span><span class="operator">-</span><span class="word">rm</span><span class="whitespace"> </span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">-</span><span class="operator">-</span><span class="word">name</span><span class="whitespace"> </span><span class="word">lambda_service</span><span class="whitespace"> </span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">-</span><span class="word">p</span><span class="whitespace"> </span><span class="number">9001</span><span class="operator">:</span><span class="number">9001</span><span class="whitespace"> </span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">-</span><span class="word">e</span><span class="whitespace"> </span><span class="word">DOCKER_LAMBDA_STAY_OPEN</span><span class="operator">=</span><span class="number">1</span><span class="whitespace"> </span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">-</span><span class="operator">-</span><span class="word">env</span><span class="operator">-</span><span class="word">file</span><span class="whitespace"> </span><span class="operator">.</span><span class="word">env</span><span class="whitespace"> </span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">-</span><span class="word">v</span><span class="whitespace"> </span><span class="string">&#34;$PWD&#34;</span><span class="operator">:</span><span class="operator">/</span><span class="word">var</span><span class="operator">/</span><span class="word">task</span><span class="operator">:</span><span class="word">ro,delegated</span><span class="whitespace"> </span></div><div class="code-line"><span class="whitespace">    </span><span class="word">#</span><span class="whitespace"> </span><span class="word">Change</span><span class="whitespace"> </span><span class="word">tag</span><span class="whitespace"> </span><span class="word">and</span><span class="whitespace"> </span><span class="word">path</span><span class="whitespace"> </span><span class="word">to</span><span class="whitespace"> </span><span class="word">executable</span><span class="whitespace"> </span><span class="word">as</span><span class="whitespace"> </span><span class="word">needed</span></div><div class="code-line"><span class="whitespace">    </span><span class="word">lambci</span><span class="operator">/</span><span class="word">lambda</span><span class="operator">:</span><span class="word">go</span><span class="number">1</span><span class="operator">.</span><span class="word">x</span><span class="whitespace"> </span><span class="operator">.</span><span class="operator">/</span><span class="word">bin</span><span class="operator">/</span><span class="word">functions</span><span class="operator">/</span><span class="word">jockey</span></div><div class="code-line"></div><div class="code-line"><span class="word">#</span><span class="whitespace"> </span><span class="word">start</span><span class="whitespace"> </span><span class="word">a</span><span class="whitespace"> </span><span class="word">proxy</span><span class="whitespace"> </span><span class="word">server</span><span class="whitespace"> </span><span class="word">that</span><span class="whitespace"> </span><span class="word">handles</span><span class="whitespace"> </span><span class="word">translating</span><span class="whitespace"> </span><span class="word">to</span><span class="whitespace"> </span><span class="word">and</span><span class="whitespace"> </span><span class="word">from</span><span class="whitespace"> </span><span class="word">APIGateway</span><span class="whitespace"> </span><span class="word">request</span><span class="operator">/</span><span class="word">responses</span></div><div class="code-line"><span class="word">python</span><span class="number">3</span><span class="whitespace"> </span><span class="operator">-</span><span class="word">c</span><span class="whitespace"> </span></div><div class="code-line"><span class="word">from</span><span class="whitespace"> </span><span class="word">http</span><span class="operator">.</span><span class="word">server</span><span class="whitespace"> </span><span class="word">import</span><span class="whitespace"> </span><span class="word">BaseHTTPRequestHandler</span></div><div class="code-line"><span class="word">from</span><span class="whitespace"> </span><span class="word">http</span><span class="operator">.</span><span class="word">client</span><span class="whitespace"> </span><span class="word">import</span><span class="whitespace"> </span><span class="word">parse_headers</span></div><div class="code-line"><span class="word">import</span><span class="whitespace"> </span><span class="word">socketserver</span></div><div class="code-line"><span class="word">from</span><span class="whitespace"> </span><span class="word">urllib</span><span class="operator">.</span><span class="word">request</span><span class="whitespace"> </span><span class="word">import</span><span class="whitespace"> </span><span class="word">urlopen</span></div><div class="code-line"><span class="word">from</span><span class="whitespace"> </span><span class="word">json</span><span class="whitespace"> </span><span class="word">import</span><span class="whitespace"> </span><span class="word">dumps,</span><span class="whitespace"> </span><span class="word">loads</span></div><div class="code-line"><span class="word">import</span><span class="whitespace"> </span><span class="word">os</span></div><div class="code-line"><span class="word">import</span><span class="whitespace"> </span><span class="word">time</span></div><div class="code-line"></div><div class="code-line"><span class="word">PORT</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="number">8000</span></div><div class="code-line"><span class="word">LAMBDA_PORT</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="word">int</span><span class="operator">(</span><span class="word">os</span><span class="operator">.</span><span class="word">getenv</span><span class="operator">(</span><span class="string">&#34;LAMBDA_PORT&#34;</span><span class="word">,</span><span class="whitespace"> </span><span class="string">&#34;9001&#34;</span><span class="operator">)</span><span class="operator">)</span></div><div class="code-line"></div><div class="code-line"><span class="word">class</span><span class="whitespace"> </span><span class="word">Proxy</span><span class="operator">(</span><span class="word">BaseHTTPRequestHandler</span><span class="operator">)</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">    </span><span class="word">#</span><span class="whitespace"> </span><span class="word">change</span><span class="whitespace"> </span><span class="word">the</span><span class="whitespace"> </span><span class="word">function</span><span class="whitespace"> </span><span class="word">name</span><span class="whitespace"> </span><span class="word">as</span><span class="whitespace"> </span><span class="word">needed</span><span class="whitespace"> </span><span class="operator">(</span><span class="word">my</span><span class="whitespace"> </span><span class="word">functions</span><span class="whitespace"> </span><span class="word">name</span><span class="whitespace"> </span><span class="word">is</span><span class="whitespace"> </span><span class="word">jockey</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">    </span><span class="word">lambda_endpoint</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="word">f&#34;http:</span><span class="comment">//localhost:{LAMBDA_PORT}/2015-03-31/functions/jockey/invocations&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="word">def</span><span class="whitespace"> </span><span class="word">proxy_it</span><span class="operator">(</span><span class="word">self</span><span class="operator">)</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">content_length</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="word">self</span><span class="operator">.</span><span class="word">headers</span><span class="operator">[</span><span class="string">&#34;Content-Length&#34;</span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">data_string</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="word">&#34;&#34;</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">if</span><span class="whitespace"> </span><span class="word">content_length</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">            </span><span class="word">data_string</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="word">self</span><span class="operator">.</span><span class="word">rfile</span><span class="operator">.</span><span class="word">read</span><span class="operator">(</span><span class="word">int</span><span class="operator">(</span><span class="word">content_length</span><span class="operator">)</span><span class="operator">)</span><span class="operator">.</span><span class="word">decode</span><span class="operator">(</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">constructed_request</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">            </span><span class="string">&#34;path&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="word">self</span><span class="operator">.</span><span class="word">path,</span></div><div class="code-line"><span class="whitespace">            </span><span class="string">&#34;httpMethod&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="word">self</span><span class="operator">.</span><span class="word">command,</span></div><div class="code-line"><span class="whitespace">            </span><span class="string">&#34;body&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="word">data_string,</span></div><div class="code-line"><span class="whitespace">            </span><span class="string">&#34;headers&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="operator">{</span><span class="word">k</span><span class="operator">:</span><span class="whitespace"> </span><span class="word">self</span><span class="operator">.</span><span class="word">headers</span><span class="operator">[</span><span class="word">k</span><span class="operator">]</span><span class="whitespace"> </span><span class="word">for</span><span class="whitespace"> </span><span class="word">k</span><span class="whitespace"> </span><span class="word">in</span><span class="whitespace"> </span><span class="word">self</span><span class="operator">.</span><span class="word">headers</span><span class="operator">.</span><span class="word">keys</span><span class="operator">(</span><span class="operator">)</span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">        </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">print</span><span class="operator">(</span><span class="string">&#34;Sending Request: &#34;</span><span class="word">,</span><span class="whitespace"> </span><span class="word">constructed_request</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">response</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="word">urlopen</span><span class="operator">(</span><span class="word">self</span><span class="operator">.</span><span class="word">lambda_endpoint,</span><span class="whitespace"> </span><span class="word">dumps</span><span class="operator">(</span><span class="word">constructed_request</span><span class="operator">)</span><span class="operator">.</span><span class="word">encode</span><span class="operator">(</span><span class="operator">)</span><span class="operator">)</span></div><div class="code-line"></div><div class="code-line"><span class="whitespace">        </span><span class="word">body</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="word">response</span><span class="operator">.</span><span class="word">read</span><span class="operator">(</span><span class="operator">)</span><span class="operator">.</span><span class="word">decode</span><span class="operator">(</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">http_response</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="word">loads</span><span class="operator">(</span><span class="word">body</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">print</span><span class="operator">(</span><span class="string">&#34;\nGot Response: &#34;</span><span class="word">,</span><span class="whitespace"> </span><span class="word">http_response</span><span class="operator">)</span></div><div class="code-line"></div><div class="code-line"><span class="whitespace">        </span><span class="word">headers</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="word">http_response</span><span class="operator">.</span><span class="word">get</span><span class="operator">(</span><span class="string">&#34;headers&#34;</span><span class="word">,</span><span class="whitespace"> </span><span class="operator">{</span><span class="operator">}</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">body</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="word">http_response</span><span class="operator">[</span><span class="string">&#34;body&#34;</span><span class="operator">]</span><span class="whitespace"> </span><span class="word">if</span><span class="whitespace"> </span><span class="word">http_response</span><span class="operator">.</span><span class="word">get</span><span class="operator">(</span><span class="string">&#34;body&#34;</span><span class="operator">)</span><span class="whitespace"> </span><span class="word">else</span><span class="whitespace"> </span><span class="word">&#34;&#34;</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">status_code</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="word">http_response</span><span class="operator">.</span><span class="word">get</span><span class="operator">(</span><span class="string">&#34;statusCode&#34;</span><span class="word">,</span><span class="whitespace"> </span><span class="number">500</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">self</span><span class="operator">.</span><span class="word">send_response</span><span class="operator">(</span><span class="word">status_code</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">for</span><span class="whitespace"> </span><span class="word">header,</span><span class="whitespace"> </span><span class="word">value</span><span class="whitespace"> </span><span class="word">in</span><span class="whitespace"> </span><span class="word">headers</span><span class="operator">.</span><span class="word">items</span><span class="operator">(</span><span class="operator">)</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">            </span><span class="word">self</span><span class="operator">.</span><span class="word">send_header</span><span class="operator">(</span><span class="word">header,</span><span class="whitespace"> </span><span class="word">value</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">self</span><span class="operator">.</span><span class="word">end_headers</span><span class="operator">(</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">self</span><span class="operator">.</span><span class="word">wfile</span><span class="operator">.</span><span class="word">write</span><span class="operator">(</span><span class="word">bytes</span><span class="operator">(</span><span class="word">body,</span><span class="whitespace"> </span><span class="string">&#34;utf-8&#34;</span><span class="operator">)</span><span class="operator">)</span></div><div class="code-line"></div><div class="code-line"><span class="whitespace">    </span><span class="word">def</span><span class="whitespace"> </span><span class="word">do_GET</span><span class="operator">(</span><span class="word">self</span><span class="operator">)</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">self</span><span class="operator">.</span><span class="word">proxy_it</span><span class="operator">(</span><span class="operator">)</span></div><div class="code-line"></div><div class="code-line"><span class="whitespace">    </span><span class="word">def</span><span class="whitespace"> </span><span class="word">do_POST</span><span class="operator">(</span><span class="word">self</span><span class="operator">)</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">self</span><span class="operator">.</span><span class="word">proxy_it</span><span class="operator">(</span><span class="operator">)</span></div><div class="code-line"></div><div class="code-line"><span class="whitespace">    </span><span class="word">def</span><span class="whitespace"> </span><span class="word">do_OPTIONS</span><span class="operator">(</span><span class="word">self</span><span class="operator">)</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">self</span><span class="operator">.</span><span class="word">proxy_it</span><span class="operator">(</span><span class="operator">)</span></div><div class="code-line"></div><div class="code-line"><span class="word">started</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="boolean">False</span></div><div class="code-line"><span class="word">while</span><span class="whitespace"> </span><span class="word">not</span><span class="whitespace"> </span><span class="word">started</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">    </span><span class="word">try</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">with</span><span class="whitespace"> </span><span class="word">socketserver</span><span class="operator">.</span><span class="word">TCPServer</span><span class="operator">(</span><span class="operator">(</span><span class="word">&#34;&#34;,</span><span class="whitespace"> </span><span class="word">PORT</span><span class="operator">)</span><span class="word">,</span><span class="whitespace"> </span><span class="word">Proxy</span><span class="operator">)</span><span class="whitespace"> </span><span class="word">as</span><span class="whitespace"> </span><span class="word">httpd</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">            </span><span class="word">started</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="boolean">True</span></div><div class="code-line"><span class="whitespace">            </span><span class="word">print</span><span class="operator">(</span><span class="word">f</span><span class="string">&#34;Proxying from port {PORT} to {LAMBDA_PORT}&#34;</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">            </span><span class="word">httpd</span><span class="operator">.</span><span class="word">serve_forever</span><span class="operator">(</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">    </span><span class="word">except</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">print</span><span class="operator">(</span><span class="string">&#34;Port still occupied, waiting...&#34;</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">time</span><span class="operator">.</span><span class="word">sleep</span><span class="operator">(</span><span class="number">5</span><span class="operator">)</span></div><div class="code-line"></div></div></p></details></p></details><details name="7fda38dcb618fb7c823434d3e06e5ae2ff43749513fcf299b2071d1fea583888"><summary>This could probably be improved but it&#39;s worked so far for my toy project. One significant improvement to this process would be to have the docker container auto rebuild the function whenever it changes, but I&#39;ve yet to add that.</summary><p></p></details></p></details><details name="1abfa4f62bfb0ed3f98d6616e514443c8ace87ea576e6b3bf625e49041cde558"><summary>jq: looping</summary><p><details name="6bc242f4d87011cc209ccb3ab5d5704dec9eff60a15592944ebc00a02bd0b4c8"><summary>Here&#39;s a quick example of using jq in a for loop. jq has some nice functional stuff built in such as `map()`, but sometimes you need to do some fancy stuff with the data. This might be useful when you&#39;ve filtered a jq array, and then need to iterate over the objects to do some work that you can&#39;t do in jq alone.</summary><p></p></details><details name="6bc242f4d87011cc209ccb3ab5d5704dec9eff60a15592944ebc00a02bd0b4c8"><summary>For this example, the goal is to iterate through an array of user objects, downloading their pictures. We&#39;ll use some fake user data from https://reqres.in/, you can download it with the script below</summary><p><details name="428004015d744c39c28cfb8af1b09ecacace940fe2f7010a9cb8d6cdc2b8c1f5"><summary>script</summary><p><details name="21a0270b7f66a1e4c25933f13a1e5a1bbb4757578072930c8189131f9c6aaae1"><summary>bash
curl https://reqres.in/api/users?page=1 &gt; user_loop.json</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="word">curl</span><span class="whitespace"> </span><span class="word">https</span><span class="operator">:</span><span class="comment">//reqres.in/api/users?page=1 &gt; user_loop.json</span></div></div></p></details></p></details><details name="428004015d744c39c28cfb8af1b09ecacace940fe2f7010a9cb8d6cdc2b8c1f5"><summary>output</summary><p><details name="e0ee8bb50685e05fa0f47ed04203ae953fdfd055f5bd2892ea186504254f8c3a"><summary>JSON
{
  &#34;page&#34;: 1,
  &#34;per_page&#34;: 6,
  &#34;total&#34;: 12,
  &#34;total_pages&#34;: 2,
  &#34;data&#34;: [
    {
      &#34;id&#34;: 1,
      &#34;email&#34;: &#34;george.bluth@reqres.in&#34;,
      &#34;first_name&#34;: &#34;George&#34;,
      &#34;last_name&#34;: &#34;Bluth&#34;,
      &#34;avatar&#34;: &#34;https://s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg&#34;
    },
    {
      &#34;id&#34;: 2,
      &#34;email&#34;: &#34;janet.weaver@reqres.in&#34;,
      &#34;first_name&#34;: &#34;Janet&#34;,
      &#34;last_name&#34;: &#34;Weaver&#34;,
      &#34;avatar&#34;: &#34;https://s3.amazonaws.com/uifaces/faces/twitter/josephstein/128.jpg&#34;
    },
    ...
  ]
}</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="operator">{</span></div><div class="code-line"><span class="whitespace">  </span><span class="string">&#34;page&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">1</span></div><div class="code-line"><span class="whitespace">  </span><span class="string">&#34;per_page&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">6</span></div><div class="code-line"><span class="whitespace">  </span><span class="string">&#34;total&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">12</span></div><div class="code-line"><span class="whitespace">  </span><span class="string">&#34;total_pages&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">2</span></div><div class="code-line"><span class="whitespace">  </span><span class="string">&#34;data&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">1</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;email&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;george.bluth@reqres.in&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;first_name&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;George&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;last_name&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;Bluth&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;avatar&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="word">&#34;https:</span><span class="comment">//s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">2</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;email&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;janet.weaver@reqres.in&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;first_name&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;Janet&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;last_name&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;Weaver&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;avatar&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="word">&#34;https:</span><span class="comment">//s3.amazonaws.com/uifaces/faces/twitter/josephstein/128.jpg&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">]</span></div><div class="code-line"><span class="operator">}</span></div></div></p></details></p></details></p></details><details name="6bc242f4d87011cc209ccb3ab5d5704dec9eff60a15592944ebc00a02bd0b4c8"><summary>The finished result</summary><p><details name="854a4dbecd71dcbba7e515c4050975eb83155ba381034b94d587110ae5800d6e"><summary>bash
imagesDir=&#34;tmp_user_images&#34;
mkdir -p $imagesDir

while read -r user; do
  avatarURL=$(echo $user | jq -r &#39;.avatar&#39;)
  imagePath=&#34;${imagesDir}/$(echo $user | jq -r &#39;.first_name + .last_name&#39;).jpg&#34;
  echo &#34;Downloading ${avatarURL} to ${imagePath}&#34;
  curl -s -o ${imagePath} ${avatarURL}
done &lt;&lt;&lt; &#34;$(cat user_loop.json | jq -c &#39;.data[]&#39;)&#34;</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="word">imagesDir</span><span class="operator">=</span><span class="string">&#34;tmp_user_images&#34;</span></div><div class="code-line"><span class="word">mkdir</span><span class="whitespace"> </span><span class="operator">-</span><span class="word">p</span><span class="whitespace"> </span><span class="word">$imagesDir</span></div><div class="code-line"></div><div class="code-line"><span class="word">while</span><span class="whitespace"> </span><span class="word">read</span><span class="whitespace"> </span><span class="operator">-</span><span class="word">r</span><span class="whitespace"> </span><span class="word">user</span><span class="operator">;</span><span class="whitespace"> </span><span class="word">do</span></div><div class="code-line"><span class="whitespace">  </span><span class="word">avatarURL</span><span class="operator">=</span><span class="word">$</span><span class="operator">(</span><span class="word">echo</span><span class="whitespace"> </span><span class="word">$user</span><span class="whitespace"> </span><span class="word">|</span><span class="whitespace"> </span><span class="word">jq</span><span class="whitespace"> </span><span class="operator">-</span><span class="word">r</span><span class="whitespace"> </span><span class="word">&#39;</span><span class="operator">.</span><span class="word">avatar&#39;</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">  </span><span class="word">imagePath</span><span class="operator">=</span><span class="string">&#34;${imagesDir}/$(echo $user | jq -r &#39;.first_name + .last_name&#39;).jpg&#34;</span></div><div class="code-line"><span class="whitespace">  </span><span class="word">echo</span><span class="whitespace"> </span><span class="string">&#34;Downloading ${avatarURL} to ${imagePath}&#34;</span></div><div class="code-line"><span class="whitespace">  </span><span class="word">curl</span><span class="whitespace"> </span><span class="operator">-</span><span class="word">s</span><span class="whitespace"> </span><span class="operator">-</span><span class="word">o</span><span class="whitespace"> </span><span class="word">$</span><span class="operator">{</span><span class="word">imagePath</span><span class="operator">}</span><span class="whitespace"> </span><span class="word">$</span><span class="operator">{</span><span class="word">avatarURL</span><span class="operator">}</span></div><div class="code-line"><span class="word">done</span><span class="whitespace"> </span><span class="word">&lt;&lt;&lt;</span><span class="whitespace"> </span><span class="string">&#34;$(cat user_loop.json | jq -c &#39;.data[]&#39;)&#34;</span></div></div></p></details></p></details><details name="6bc242f4d87011cc209ccb3ab5d5704dec9eff60a15592944ebc00a02bd0b4c8"><summary>The part of interest (the looping), is written like this</summary><p><details name="25154a621bc917e271fb14671834debc7ca70562c2fa8d277f0b01a3597a45f6"><summary>bash
while read -r user; do
  # do work on user object
done &lt;&lt;&lt; &#34;$(cat user_loop.json | jq -c &#39;.data[]&#39;)&#34;</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="word">while</span><span class="whitespace"> </span><span class="word">read</span><span class="whitespace"> </span><span class="operator">-</span><span class="word">r</span><span class="whitespace"> </span><span class="word">user</span><span class="operator">;</span><span class="whitespace"> </span><span class="word">do</span></div><div class="code-line"><span class="whitespace">  </span><span class="word">#</span><span class="whitespace"> </span><span class="word">do</span><span class="whitespace"> </span><span class="word">work</span><span class="whitespace"> </span><span class="word">on</span><span class="whitespace"> </span><span class="word">user</span><span class="whitespace"> </span><span class="word">object</span></div><div class="code-line"><span class="word">done</span><span class="whitespace"> </span><span class="word">&lt;&lt;&lt;</span><span class="whitespace"> </span><span class="string">&#34;$(cat user_loop.json | jq -c &#39;.data[]&#39;)&#34;</span></div></div></p></details></p></details><details name="6bc242f4d87011cc209ccb3ab5d5704dec9eff60a15592944ebc00a02bd0b4c8"><summary># Breakdown</summary><p><details name="c6758f190423336cf5a3a6cb63d5ac0eaa8cf4c063f2ac2570c622e07905dc78"><summary>## Get the objects</summary><p><details name="11d377022c67f97dba30443975e490053f14eef6527ed860e7a09a39916fa563"><summary>First, we care only about the `data` array which stores our user objects containing the URLs, so we use that object id to access it:</summary><p></p></details><details name="11d377022c67f97dba30443975e490053f14eef6527ed860e7a09a39916fa563"><summary>bash
cat user_loop.json | jq -c &#39;.data[]&#39;</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="word">cat</span><span class="whitespace"> </span><span class="word">user_loop</span><span class="operator">.</span><span class="word">json</span><span class="whitespace"> </span><span class="word">|</span><span class="whitespace"> </span><span class="word">jq</span><span class="whitespace"> </span><span class="operator">-</span><span class="word">c</span><span class="whitespace"> </span><span class="word">&#39;</span><span class="operator">.</span><span class="word">data</span><span class="operator">[</span><span class="operator">]</span></div></div></p></details><details name="11d377022c67f97dba30443975e490053f14eef6527ed860e7a09a39916fa563"><summary>Notice `-c` flag, it&#39;s important for looping over the objects. This tells jq to put each object onto a single line, which we&#39;ll use in the loop.</summary><p></p></details></p></details><details name="c6758f190423336cf5a3a6cb63d5ac0eaa8cf4c063f2ac2570c622e07905dc78"><summary>## Loop over lines</summary><p><details name="cb40265b0d96123ecc7e357069b51840af09a59f42126eaed6204f50106b353a"><summary>In bash, we can loop over lines by using the `while read -r varName; do ...; done &lt;&lt;&lt; &#34;$lineSeparatedVar&#34;` pattern. `read -r &lt;name&gt;` will read in a line from STDIN, then assign the value to `&lt;name&gt;`; the `-r` flag tells `read` &#34;do not allow backslashes to escape any characters&#34;.  </summary><p></p></details><details name="cb40265b0d96123ecc7e357069b51840af09a59f42126eaed6204f50106b353a"><summary>Now we can loop over objects from our array like so</summary><p></p></details><details name="cb40265b0d96123ecc7e357069b51840af09a59f42126eaed6204f50106b353a"><summary>bash
while read -r user; do
  # do work on user object
done &lt;&lt;&lt; &#34;$(cat user_loop.json | jq -c &#39;.data[]&#39;)&#34;</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="word">while</span><span class="whitespace"> </span><span class="word">read</span><span class="whitespace"> </span><span class="operator">-</span><span class="word">r</span><span class="whitespace"> </span><span class="word">user</span><span class="operator">;</span><span class="whitespace"> </span><span class="word">do</span></div><div class="code-line"><span class="whitespace">  </span><span class="word">#</span><span class="whitespace"> </span><span class="word">do</span><span class="whitespace"> </span><span class="word">work</span><span class="whitespace"> </span><span class="word">on</span><span class="whitespace"> </span><span class="word">user</span><span class="whitespace"> </span><span class="word">object</span></div><div class="code-line"><span class="word">done</span><span class="whitespace"> </span><span class="word">&lt;&lt;&lt;</span><span class="whitespace"> </span><span class="string">&#34;$(cat user_loop.json | jq -c &#39;.data[]&#39;)&#34;</span></div></div></p></details></p></details></p></details><details name="6bc242f4d87011cc209ccb3ab5d5704dec9eff60a15592944ebc00a02bd0b4c8"><summary># Notes</summary><p><details name="360aa5ebfa18efd19f60eb2432c11d53e21586ff3a392ca246980970de15f0c4"><summary>I&#39;ve not fully tested this code. You may want to base64 encode the objects, then decode them if you wanna be really safe.</summary><p></p></details><details name="360aa5ebfa18efd19f60eb2432c11d53e21586ff3a392ca246980970de15f0c4"><summary>`curl` concurrently, toss a `&amp;` on the end of the curl to run it as a background process</summary><p></p></details></p></details></p></details><details name="1abfa4f62bfb0ed3f98d6616e514443c8ace87ea576e6b3bf625e49041cde558"><summary>jq: group, unique, average</summary><p><details name="42d00e750f74ad4ada15fc01743e505550f9a155ba9214a03f0dbce87f65ebe2"><summary>Recently I&#39;ve been running through picoCTF 2018 and saw this problem that can be solved with some cool stuff from jq (a handy JSON processor for the command line).</summary><p></p></details><details name="42d00e750f74ad4ada15fc01743e505550f9a155ba9214a03f0dbce87f65ebe2"><summary>https://2018game.picoctf.com/</summary><p><a href="https://2018game.picoctf.com/">https://2018game.picoctf.com/</a></p></details><details name="42d00e750f74ad4ada15fc01743e505550f9a155ba9214a03f0dbce87f65ebe2"><summary>https://stedolan.github.io/jq/</summary><p><a href="https://stedolan.github.io/jq/">https://stedolan.github.io/jq/</a></p></details><details name="42d00e750f74ad4ada15fc01743e505550f9a155ba9214a03f0dbce87f65ebe2"><summary>Question: What is the number of unique destination IPs a file is sent to, on average?  </summary><p><details name="e96c50499c1b554df1d55db3fc52433d121f762196a4419b37df9081411aeeab"><summary>A shortened version of the provided data, `incidents.json`, is below.</summary><p><details name="ce04f8e69cccfe423b4676f5b10f73651e90f3f6024df36848662c78f5e019a4"><summary>JSON
{
  &#34;tickets&#34;: [
    {
      &#34;ticket_id&#34;: 0,
      &#34;timestamp&#34;: &#34;2017/06/10 07:50:14&#34;,
      &#34;file_hash&#34;: &#34;fb0abe9b2a37e234&#34;,
      &#34;src_ip&#34;: &#34;131.90.8.180&#34;,
      &#34;dst_ip&#34;: &#34;104.97.128.21&#34;
    },
    {
      &#34;ticket_id&#34;: 1,
      &#34;timestamp&#34;: &#34;2017/06/11 05:19:56&#34;,
      &#34;file_hash&#34;: &#34;f2d8740404ff1d55&#34;,
      &#34;src_ip&#34;: &#34;187.100.149.54&#34;,
      &#34;dst_ip&#34;: &#34;33.29.174.118&#34;
    },
      ...
    {
      &#34;ticket_id&#34;: 9,
      &#34;timestamp&#34;: &#34;2015/12/10 17:28:48&#34;,
      &#34;file_hash&#34;: &#34;cafc9c5ec7ebc133&#34;,
      &#34;src_ip&#34;: &#34;210.205.230.140&#34;,
      &#34;dst_ip&#34;: &#34;99.31.12.3&#34;
    }
  ]
}</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="operator">{</span></div><div class="code-line"><span class="whitespace">  </span><span class="string">&#34;tickets&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">0</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2017/06/10 07:50:14&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;fb0abe9b2a37e234&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;131.90.8.180&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;104.97.128.21&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">1</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2017/06/11 05:19:56&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;f2d8740404ff1d55&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;187.100.149.54&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;33.29.174.118&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">      </span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">9</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2015/12/10 17:28:48&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;cafc9c5ec7ebc133&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;210.205.230.140&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;99.31.12.3&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">]</span></div><div class="code-line"><span class="operator">}</span></div></div></p></details></p></details></p></details><details name="42d00e750f74ad4ada15fc01743e505550f9a155ba9214a03f0dbce87f65ebe2"><summary>solution</summary><p><details name="8270f2824111e04d9278c01a92b388147d9d02e0b50d946d25d00db375ff1282"><summary>Pipe it up, pipe it up, pipe it up, pipe it up  </summary><p></p></details><details name="8270f2824111e04d9278c01a92b388147d9d02e0b50d946d25d00db375ff1282"><summary>Pipe it up, pipe it up, pipe it up, pipe it up  </summary><p></p></details><details name="8270f2824111e04d9278c01a92b388147d9d02e0b50d946d25d00db375ff1282"><summary>- Migos, Pipe it up</summary><p></p></details><details name="8270f2824111e04d9278c01a92b388147d9d02e0b50d946d25d00db375ff1282"><summary>https://www.youtube.com/watch?v=8g2KKGgK-0w</summary><p><a href="https://www.youtube.com/watch?v=8g2KKGgK-0w">https://www.youtube.com/watch?v=8g2KKGgK-0w</a></p></details><details name="8270f2824111e04d9278c01a92b388147d9d02e0b50d946d25d00db375ff1282"><summary>In jq you just create an array of the number of unique destination IPs for each file hash, then calculate the average:</summary><p><details name="1bc2092b0b88a15bfb202cea81733ee4bbfe34588c16be92cb94b6037b4432f5"><summary>bash
$ cat incidents.json \
  | jq &#39;[
          .tickets
          | group_by(.file_hash)[]
          | unique_by(.dst_ip)
          | length
        ]
        | add / length&#39;</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="word">$</span><span class="whitespace"> </span><span class="word">cat</span><span class="whitespace"> </span><span class="word">incidents</span><span class="operator">.</span><span class="word">json</span><span class="whitespace"> </span></div><div class="code-line"><span class="whitespace">  </span><span class="word">|</span><span class="whitespace"> </span><span class="word">jq</span><span class="whitespace"> </span><span class="word">&#39;</span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">          </span><span class="operator">.</span><span class="word">tickets</span></div><div class="code-line"><span class="whitespace">          </span><span class="word">|</span><span class="whitespace"> </span><span class="word">group_by</span><span class="operator">(</span><span class="operator">.</span><span class="word">file_hash</span><span class="operator">)</span><span class="operator">[</span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">          </span><span class="word">|</span><span class="whitespace"> </span><span class="word">unique_by</span><span class="operator">(</span><span class="operator">.</span><span class="word">dst_ip</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">          </span><span class="word">|</span><span class="whitespace"> </span><span class="word">length</span></div><div class="code-line"><span class="whitespace">        </span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">|</span><span class="whitespace"> </span><span class="word">add</span><span class="whitespace"> </span><span class="operator">/</span><span class="whitespace"> </span><span class="word">length&#39;</span></div></div></p></details><details name="1bc2092b0b88a15bfb202cea81733ee4bbfe34588c16be92cb94b6037b4432f5"><summary>jq accepts a JSON document as input, so first we `cat` our JSON data into jq. In jq, arrays and individual elements can be piped into other functions.</summary><p></p></details></p></details></p></details><details name="42d00e750f74ad4ada15fc01743e505550f9a155ba9214a03f0dbce87f65ebe2"><summary>## group_by</summary><p><details name="1611e3c338acd8028243c3b930e5e2f0afd0d48df24d4828d6c82ba284a1c8c3"><summary>The first step is pretty straight forward. We select `tickets` and group the objects the objects by their `.file_hash` attribute, giving us this:</summary><p></p></details><details name="1611e3c338acd8028243c3b930e5e2f0afd0d48df24d4828d6c82ba284a1c8c3"><summary>bash
$ cat incidents.json \
  | jq &#39;[
          .tickets
          | group_by(.file_hash)[]
        ]&#39;</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="word">$</span><span class="whitespace"> </span><span class="word">cat</span><span class="whitespace"> </span><span class="word">incidents</span><span class="operator">.</span><span class="word">json</span><span class="whitespace"> </span></div><div class="code-line"><span class="whitespace">  </span><span class="word">|</span><span class="whitespace"> </span><span class="word">jq</span><span class="whitespace"> </span><span class="word">&#39;</span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">          </span><span class="operator">.</span><span class="word">tickets</span></div><div class="code-line"><span class="whitespace">          </span><span class="word">|</span><span class="whitespace"> </span><span class="word">group_by</span><span class="operator">(</span><span class="operator">.</span><span class="word">file_hash</span><span class="operator">)</span><span class="operator">[</span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">        </span><span class="operator">]</span></div></div><details name="37d2b12d5d9abc2a364ef9448767ee03938e383c0284193477dc7618f4b7c6c2"><summary>output:</summary><p><details name="96f1000b8f421b4bc1837cd4976662509c91715ae6e7b627f467b4ae1fad3711"><summary>JSON
[
  [
    {
      &#34;ticket_id&#34;: 3,
      &#34;timestamp&#34;: &#34;2017/08/14 18:02:17&#34;,
      &#34;file_hash&#34;: &#34;1a03d0a86d991e91&#34;,
      &#34;src_ip&#34;: &#34;122.231.138.129&#34;,
      &#34;dst_ip&#34;: &#34;88.148.199.124&#34;
    }
  ],
  [
    {
      &#34;ticket_id&#34;: 5,
      &#34;timestamp&#34;: &#34;2015/08/17 20:48:14&#34;,
      &#34;file_hash&#34;: &#34;43e10d21eb3f5dc8&#34;,
      &#34;src_ip&#34;: &#34;210.205.230.140&#34;,
      &#34;dst_ip&#34;: &#34;50.225.199.154&#34;
    },
    {
      &#34;ticket_id&#34;: 7,
      &#34;timestamp&#34;: &#34;2015/03/18 22:37:20&#34;,
      &#34;file_hash&#34;: &#34;43e10d21eb3f5dc8&#34;,
      &#34;src_ip&#34;: &#34;122.231.138.129&#34;,
      &#34;dst_ip&#34;: &#34;209.104.88.119&#34;
    }
  ],
  ...
  [
    {
      &#34;ticket_id&#34;: 0,
      &#34;timestamp&#34;: &#34;2017/06/10 07:50:14&#34;,
      &#34;file_hash&#34;: &#34;fb0abe9b2a37e234&#34;,
      &#34;src_ip&#34;: &#34;131.90.8.180&#34;,
      &#34;dst_ip&#34;: &#34;104.97.128.21&#34;
    },
    {
      &#34;ticket_id&#34;: 8,
      &#34;timestamp&#34;: &#34;2015/07/08 17:11:17&#34;,
      &#34;file_hash&#34;: &#34;fb0abe9b2a37e234&#34;,
      &#34;src_ip&#34;: &#34;93.124.108.240&#34;,
      &#34;dst_ip&#34;: &#34;33.29.174.118&#34;
    }
  ]
]</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="operator">[</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">3</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2017/08/14 18:02:17&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;1a03d0a86d991e91&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;122.231.138.129&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;88.148.199.124&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">5</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2015/08/17 20:48:14&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;43e10d21eb3f5dc8&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;210.205.230.140&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;50.225.199.154&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">7</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2015/03/18 22:37:20&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;43e10d21eb3f5dc8&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;122.231.138.129&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;209.104.88.119&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">0</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2017/06/10 07:50:14&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;fb0abe9b2a37e234&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;131.90.8.180&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;104.97.128.21&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">8</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2015/07/08 17:11:17&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;fb0abe9b2a37e234&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;93.124.108.240&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;33.29.174.118&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">]</span></div><div class="code-line"><span class="operator">]</span></div></div></p></details></p></details></p></details></p></details><details name="42d00e750f74ad4ada15fc01743e505550f9a155ba9214a03f0dbce87f65ebe2"><summary>## unique_by</summary><p><details name="ea8bc997da66103b9898cd87b06b395c09b0db96c95a23f9e528194251c51efd"><summary>Next we find the objects with unique destination ips within each of these groups. I&#39;m not sure how jq decides which object to select from a group that share a value, but it doesn&#39;t matter for our purposes.</summary><p><details name="bcb7f77e573bcefb82fbdf334266c4946989f19f8b9796ad94a90afb53ae6182"><summary>bash
      $ cat incidents.json \
        | jq &#39;[
                .tickets
                | group_by(.file_hash)[]
                | unique_by(.dst_ip)
              ]&#39;
      ```
      - output:
        - ```JSON
[
  [
    {
      &#34;ticket_id&#34;: 3,
      &#34;timestamp&#34;: &#34;2017/08/14 18:02:17&#34;,
      &#34;file_hash&#34;: &#34;1a03d0a86d991e91&#34;,
      &#34;src_ip&#34;: &#34;122.231.138.129&#34;,
      &#34;dst_ip&#34;: &#34;88.148.199.124&#34;
    }
  ],
  [
    {
      &#34;ticket_id&#34;: 7,
      &#34;timestamp&#34;: &#34;2015/03/18 22:37:20&#34;,
      &#34;file_hash&#34;: &#34;43e10d21eb3f5dc8&#34;,
      &#34;src_ip&#34;: &#34;122.231.138.129&#34;,
      &#34;dst_ip&#34;: &#34;209.104.88.119&#34;
    },
    {
      &#34;ticket_id&#34;: 5,
      &#34;timestamp&#34;: &#34;2015/08/17 20:48:14&#34;,
      &#34;file_hash&#34;: &#34;43e10d21eb3f5dc8&#34;,
      &#34;src_ip&#34;: &#34;210.205.230.140&#34;,
      &#34;dst_ip&#34;: &#34;50.225.199.154&#34;
    }
  ],
  ...
  [
    {
      &#34;ticket_id&#34;: 0,
      &#34;timestamp&#34;: &#34;2017/06/10 07:50:14&#34;,
      &#34;file_hash&#34;: &#34;fb0abe9b2a37e234&#34;,
      &#34;src_ip&#34;: &#34;131.90.8.180&#34;,
      &#34;dst_ip&#34;: &#34;104.97.128.21&#34;
    },
    {
      &#34;ticket_id&#34;: 8,
      &#34;timestamp&#34;: &#34;2015/07/08 17:11:17&#34;,
      &#34;file_hash&#34;: &#34;fb0abe9b2a37e234&#34;,
      &#34;src_ip&#34;: &#34;93.124.108.240&#34;,
      &#34;dst_ip&#34;: &#34;33.29.174.118&#34;
    }
  ]
]</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="whitespace">      </span><span class="word">$</span><span class="whitespace"> </span><span class="word">cat</span><span class="whitespace"> </span><span class="word">incidents</span><span class="operator">.</span><span class="word">json</span><span class="whitespace"> </span></div><div class="code-line"><span class="whitespace">        </span><span class="word">|</span><span class="whitespace"> </span><span class="word">jq</span><span class="whitespace"> </span><span class="word">&#39;</span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">                </span><span class="operator">.</span><span class="word">tickets</span></div><div class="code-line"><span class="whitespace">                </span><span class="word">|</span><span class="whitespace"> </span><span class="word">group_by</span><span class="operator">(</span><span class="operator">.</span><span class="word">file_hash</span><span class="operator">)</span><span class="operator">[</span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">                </span><span class="word">|</span><span class="whitespace"> </span><span class="word">unique_by</span><span class="operator">(</span><span class="operator">.</span><span class="word">dst_ip</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">              </span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">      </span><span class="word">```</span></div><div class="code-line"><span class="whitespace">      </span><span class="operator">-</span><span class="whitespace"> </span><span class="word">output</span><span class="operator">:</span></div><div class="code-line"><span class="whitespace">        </span><span class="operator">-</span><span class="whitespace"> </span><span class="word">```JSON</span></div><div class="code-line"><span class="operator">[</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">3</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2017/08/14 18:02:17&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;1a03d0a86d991e91&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;122.231.138.129&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;88.148.199.124&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">7</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2015/03/18 22:37:20&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;43e10d21eb3f5dc8&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;122.231.138.129&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;209.104.88.119&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">5</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2015/08/17 20:48:14&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;43e10d21eb3f5dc8&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;210.205.230.140&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;50.225.199.154&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">0</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2017/06/10 07:50:14&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;fb0abe9b2a37e234&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;131.90.8.180&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;104.97.128.21&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">{</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;ticket_id&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="number">8</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;timestamp&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;2015/07/08 17:11:17&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;file_hash&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;fb0abe9b2a37e234&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;src_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;93.124.108.240&#34;</span></div><div class="code-line"><span class="whitespace">      </span><span class="string">&#34;dst_ip&#34;</span><span class="operator">:</span><span class="whitespace"> </span><span class="string">&#34;33.29.174.118&#34;</span></div><div class="code-line"><span class="whitespace">    </span><span class="operator">}</span></div><div class="code-line"><span class="whitespace">  </span><span class="operator">]</span></div><div class="code-line"><span class="operator">]</span></div></div></p></details></p></details></p></details><details name="42d00e750f74ad4ada15fc01743e505550f9a155ba9214a03f0dbce87f65ebe2"><summary>## length</summary><p><details name="d305eaba50da78fdb28efd5dd8b5ef96589315ebd04eeb630b132ed1b5b99a6f"><summary>Then we get the number of objects in each group</summary><p><details name="e998edab9369404593092e25a6e5bf701b7e4f5bfc404d4161e95bb24e38e0b2"><summary>bash
$ cat incidents.json \
  | jq &#39;[
          .tickets
          | group_by(.file_hash)[]
          | unique_by(.dst_ip)
          | length
        ]&#39;</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="word">$</span><span class="whitespace"> </span><span class="word">cat</span><span class="whitespace"> </span><span class="word">incidents</span><span class="operator">.</span><span class="word">json</span><span class="whitespace"> </span></div><div class="code-line"><span class="whitespace">  </span><span class="word">|</span><span class="whitespace"> </span><span class="word">jq</span><span class="whitespace"> </span><span class="word">&#39;</span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">          </span><span class="operator">.</span><span class="word">tickets</span></div><div class="code-line"><span class="whitespace">          </span><span class="word">|</span><span class="whitespace"> </span><span class="word">group_by</span><span class="operator">(</span><span class="operator">.</span><span class="word">file_hash</span><span class="operator">)</span><span class="operator">[</span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">          </span><span class="word">|</span><span class="whitespace"> </span><span class="word">unique_by</span><span class="operator">(</span><span class="operator">.</span><span class="word">dst_ip</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">          </span><span class="word">|</span><span class="whitespace"> </span><span class="word">length</span></div><div class="code-line"><span class="whitespace">        </span><span class="operator">]</span></div></div></p></details></p></details><details name="d305eaba50da78fdb28efd5dd8b5ef96589315ebd04eeb630b132ed1b5b99a6f"><summary>output:</summary><p><details name="96f1000b8f421b4bc1837cd4976662509c91715ae6e7b627f467b4ae1fad3711"><summary>JSON
[
  1,
  2,
  1,
  1,
  1,
  2,
  2
]</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="operator">[</span></div><div class="code-line"><span class="whitespace">  </span><span class="number">1</span></div><div class="code-line"><span class="whitespace">  </span><span class="number">2</span></div><div class="code-line"><span class="whitespace">  </span><span class="number">1</span></div><div class="code-line"><span class="whitespace">  </span><span class="number">1</span></div><div class="code-line"><span class="whitespace">  </span><span class="number">1</span></div><div class="code-line"><span class="whitespace">  </span><span class="number">2</span></div><div class="code-line"><span class="whitespace">  </span><span class="number">2</span></div><div class="code-line"><span class="operator">]</span></div></div></p></details></p></details></p></details><details name="42d00e750f74ad4ada15fc01743e505550f9a155ba9214a03f0dbce87f65ebe2"><summary>## add / length</summary><p><details name="619e2de9869773f24c84910d85a7fd97c6effa9d0248b0d46a6581ef5e64301e"><summary>Then you can just pipe that array into `add / length` to calculate the average for the array</summary><p><details name="22d779ad870e10029e3a310b4d6ef8d1dad2256411d4e6a1f32eca65ddf469a1"><summary>bash
$ cat incidents.json \
  | jq &#39;[
          .tickets
          | group_by(.file_hash)[]
          | unique_by(.dst_ip)
          | length
        ]
        | add / length&#39;</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="word">$</span><span class="whitespace"> </span><span class="word">cat</span><span class="whitespace"> </span><span class="word">incidents</span><span class="operator">.</span><span class="word">json</span><span class="whitespace"> </span></div><div class="code-line"><span class="whitespace">  </span><span class="word">|</span><span class="whitespace"> </span><span class="word">jq</span><span class="whitespace"> </span><span class="word">&#39;</span><span class="operator">[</span></div><div class="code-line"><span class="whitespace">          </span><span class="operator">.</span><span class="word">tickets</span></div><div class="code-line"><span class="whitespace">          </span><span class="word">|</span><span class="whitespace"> </span><span class="word">group_by</span><span class="operator">(</span><span class="operator">.</span><span class="word">file_hash</span><span class="operator">)</span><span class="operator">[</span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">          </span><span class="word">|</span><span class="whitespace"> </span><span class="word">unique_by</span><span class="operator">(</span><span class="operator">.</span><span class="word">dst_ip</span><span class="operator">)</span></div><div class="code-line"><span class="whitespace">          </span><span class="word">|</span><span class="whitespace"> </span><span class="word">length</span></div><div class="code-line"><span class="whitespace">        </span><span class="operator">]</span></div><div class="code-line"><span class="whitespace">        </span><span class="word">|</span><span class="whitespace"> </span><span class="word">add</span><span class="whitespace"> </span><span class="operator">/</span><span class="whitespace"> </span><span class="word">length&#39;</span></div></div></p></details></p></details><details name="619e2de9869773f24c84910d85a7fd97c6effa9d0248b0d46a6581ef5e64301e"><summary>output:</summary><p><details name="96f1000b8f421b4bc1837cd4976662509c91715ae6e7b627f467b4ae1fad3711"><summary>JSON
1.4285714285714286</summary><p><div class="code-block"><div class="code-line"></div><div class="code-line"><span class="number">1.4285714285714286</span></div></div></p></details></p></details></p></details></p></details></p></details><details name="root"><summary>sometimes I talk</summary><p><details name="ac1f99c2516037423148538db2e4b4dbd5a06d13865df957c7c6dbad8586b587"><summary>server-sent events</summary><p><details name="f589f41e7262c1daa53c461ff3f764c16b8dac902dff7d402888024e38b69bab"><summary>A brief introduction to server-sent events, when to use them and when not to use them.</summary><p></p></details><details name="f589f41e7262c1daa53c461ff3f764c16b8dac902dff7d402888024e38b69bab"><summary>/images/sse.png</summary><p><img src="/images/sse.png" alt="/images/sse.png" loading="lazy"></img></p></details><details name="f589f41e7262c1daa53c461ff3f764c16b8dac902dff7d402888024e38b69bab"><summary>https://docs.google.com/presentation/d/1i2vT6nMrRUsmFusH8HL-0fHZUEifyniL_8q0f0pBCBg/edit?usp=sharing</summary><p><a href="https://docs.google.com/presentation/d/1i2vT6nMrRUsmFusH8HL-0fHZUEifyniL_8q0f0pBCBg/edit?usp=sharing">https://docs.google.com/presentation/d/1i2vT6nMrRUsmFusH8HL-0fHZUEifyniL_8q0f0pBCBg/edit?usp=sharing</a></p></details></p></details><details name="ac1f99c2516037423148538db2e4b4dbd5a06d13865df957c7c6dbad8586b587"><summary>schematron</summary><p><details name="405b05e9c6cc674f98f3263f07137a844b4d99dd439d8808614f65af24d8c934"><summary>Introduction to Schematron, a language for validating XML documents.</summary><p></p></details><details name="405b05e9c6cc674f98f3263f07137a844b4d99dd439d8808614f65af24d8c934"><summary>/images/schematron.png</summary><p><img src="/images/schematron.png" alt="/images/schematron.png" loading="lazy"></img></p></details><details name="405b05e9c6cc674f98f3263f07137a844b4d99dd439d8808614f65af24d8c934"><summary>https://docs.google.com/presentation/d/16wpjtIqwqj0yagdQcObRzdDI6l_gYxCX/edit?usp=sharing&amp;ouid=111583935946353067252&amp;rtpof=true&amp;sd=true</summary><p><a href="https://docs.google.com/presentation/d/16wpjtIqwqj0yagdQcObRzdDI6l_gYxCX/edit?usp=sharing&amp;ouid=111583935946353067252&amp;rtpof=true&amp;sd=true">https://docs.google.com/presentation/d/16wpjtIqwqj0yagdQcObRzdDI6l_gYxCX/edit?usp=sharing&amp;ouid=111583935946353067252&amp;rtpof=true&amp;sd=true</a></p></details></p></details></p></details><details name="root"><summary>resume</summary><p><details name="a83a31320d921b888a48fa5edd0b4b5a29984de6e96bf7b8ac7d29ba06caf616"><summary>education</summary><p><details name="68bf0109c6f8a87bfa96d1ecd9503326ba35cf4a6086988a1d2c8a20fbef00d1"><summary>M.S. in computer science</summary><p><details name="1c2755ab332e8aab3e89138ec8e1a8693a2ae32e40417c6020d331992e619d4b"><summary>University of Chicago, 3.9 / 4.0, 2018-2019</summary><p></p></details><details name="1c2755ab332e8aab3e89138ec8e1a8693a2ae32e40417c6020d331992e619d4b"><summary>Algorithms, C Programming, Operating Systems, Networks, Parallel Programming, Big Data, Application Security, Intro to Computer Systems, Discrete Math</summary><p></p></details></p></details><details name="68bf0109c6f8a87bfa96d1ecd9503326ba35cf4a6086988a1d2c8a20fbef00d1"><summary>B.S. double major neuroscience &amp; chinese studies</summary><p><details name="cf5b63620df16e446dd072ed1c6469fa5a4d34da3f4aa4246089038c98fc98b5"><summary>Furman University, 3.48 / 4.0, 2012-2016</summary><p></p></details></p></details></p></details><details name="a83a31320d921b888a48fa5edd0b4b5a29984de6e96bf7b8ac7d29ba06caf616"><summary>work experience</summary><p><details name="b3a21cb88cf1388dbe4014665df5db45559bc482be85dd5f0b037f4b76eaec01"><summary>Replit, senior software engineer</summary><p><details name="dd51c6f1d9fd6fa8dff32606f391150d85b97359cbe7463b22b2fc01353fca28"><summary>February 2022 - September 2024</summary><p></p></details><details name="dd51c6f1d9fd6fa8dff32606f391150d85b97359cbe7463b22b2fc01353fca28"><summary>Bringing the the next billion software creators online.</summary><p></p></details></p></details><details name="b3a21cb88cf1388dbe4014665df5db45559bc482be85dd5f0b037f4b76eaec01"><summary>Devetry, senior software engineer</summary><p><details name="197e36d7652a3e3d3ca1e63a5f109005261ed14d265062563cf86c496c813a6a"><summary>February 2022 - September 2024</summary><p><details name="6318e86ef30098f18144eeb35ef05b6791b379f56e70177c29bba8f51b52949e"><summary>Solving complex problems for clients with custom software and codebase improvements (Python, Django, Golang, JavaScript, XML Schema, PHP)</summary><p></p></details><details name="6318e86ef30098f18144eeb35ef05b6791b379f56e70177c29bba8f51b52949e"><summary>Tech lead for the rebuilding of the Devetry website (Netlify, React)</summary><p></p></details></p></details></p></details><details name="b3a21cb88cf1388dbe4014665df5db45559bc482be85dd5f0b037f4b76eaec01"><summary>University of Chicago - Globus Labs, graduate practicum student</summary><p><details name="ac5fb8a2b6f418b7fd5992120da79d5eb51df10532ed5420c31fb7ae58d1731d"><summary>January 2019 - June 2019</summary><p></p></details><details name="ac5fb8a2b6f418b7fd5992120da79d5eb51df10532ed5420c31fb7ae58d1731d"><summary>Created Python package which automates the process of deploying, running, and optimizing arbitrary programs</summary><p></p></details><details name="ac5fb8a2b6f418b7fd5992120da79d5eb51df10532ed5420c31fb7ae58d1731d"><summary>Used Bayesian Optimization to significantly reduce the amount of time required optimize tool configuration</summary><p></p></details><details name="ac5fb8a2b6f418b7fd5992120da79d5eb51df10532ed5420c31fb7ae58d1731d"><summary>Created RESTful web service for running jobs with the package on AWS and storing results using Flask, Redis, Docker Compose and PostgreSQL</summary><p></p></details></p></details><details name="b3a21cb88cf1388dbe4014665df5db45559bc482be85dd5f0b037f4b76eaec01"><summary>University of Chicago - Center for Translational Data Science, software developer</summary><p><details name="764d7b28d70ec6b3b6ae938a452623c6293d3b62eee1b15ff9a2455ab37fc836"><summary>May 2018 - May 2019</summary><p></p></details><details name="764d7b28d70ec6b3b6ae938a452623c6293d3b62eee1b15ff9a2455ab37fc836"><summary>Used Node.js, Groovy, Bash, and Docker to develop tools and automation for Kubernetes management and CI/CD pipelines in Jenkins</summary><p></p></details><details name="764d7b28d70ec6b3b6ae938a452623c6293d3b62eee1b15ff9a2455ab37fc836"><summary>Created custom canary rollout method using Kubernetes, JavaScript, and NGINX</summary><p></p></details></p></details><details name="b3a21cb88cf1388dbe4014665df5db45559bc482be85dd5f0b037f4b76eaec01"><summary>NORC, graduate research assistant II, software developer</summary><p><details name="b05cebe2313995204b93d7c78b3643dada0d008566fed5b7eb509885b7e9c16d"><summary>Refactored, enhanced, and fixed previous bugs in Django web application backend</summary><p></p></details><details name="b05cebe2313995204b93d7c78b3643dada0d008566fed5b7eb509885b7e9c16d"><summary>Designed and created a custom survey frontend using vanilla JavaScript, primarily targeted at mobile use</summary><p></p></details><details name="b05cebe2313995204b93d7c78b3643dada0d008566fed5b7eb509885b7e9c16d"><summary>Created tools and statistical analysis reports on data collected through the platform using Pandas</summary><p></p></details></p></details><details name="b3a21cb88cf1388dbe4014665df5db45559bc482be85dd5f0b037f4b76eaec01"><summary>Furman University, lab coordinator</summary><p><details name="a468687dc216121095c6267a830fc5aba67903fad5c902033906e4962b4e69c3"><summary>June 2016 - July 2017</summary><p></p></details><details name="a468687dc216121095c6267a830fc5aba67903fad5c902033906e4962b4e69c3"><summary>Created data processing pipelines for organizing, cleaning, and merging eye tracking, EEG and behavioral data using Jupyter notebooks, Pandas, Numpy, and matplotlib</summary><p></p></details><details name="a468687dc216121095c6267a830fc5aba67903fad5c902033906e4962b4e69c3"><summary>Created an embedded database application in Java with functional GUI for more effective recruitment</summary><p></p></details></p></details></p></details><details name="a83a31320d921b888a48fa5edd0b4b5a29984de6e96bf7b8ac7d29ba06caf616"><summary>tools and such</summary><p><details name="4b5c7c7bc25ae35928e989c4528ecff004deb89d348ab9036832d7480f12f02e"><summary>watever</summary><p></p></details></p></details></p></details><details name="root"><summary>contact me</summary><p><details name="3b14cf97a52089f50007ffac726b2219a93fd2df6dbcd50bda0f504bb3fb181b"><summary>mailto:ted.summer2@gmail.com</summary><p><a href="mailto:ted.summer2@gmail.com">mailto:ted.summer2@gmail.com</a></p></details><details name="3b14cf97a52089f50007ffac726b2219a93fd2df6dbcd50bda0f504bb3fb181b"><summary>https://github.com/macintoshpie</summary><p><a href="https://github.com/macintoshpie">https://github.com/macintoshpie</a></p></details><details name="3b14cf97a52089f50007ffac726b2219a93fd2df6dbcd50bda0f504bb3fb181b"><summary>https://twitter.com/macint0shpie</summary><p><a href="https://twitter.com/macint0shpie">https://twitter.com/macint0shpie</a></p></details><details name="3b14cf97a52089f50007ffac726b2219a93fd2df6dbcd50bda0f504bb3fb181b"><summary>https://linkedin.com/in/tedsummer</summary><p><a href="https://linkedin.com/in/tedsummer">https://linkedin.com/in/tedsummer</a></p></details></p></details>
    <footer>last updated 2024-10-27</footer>
</body>